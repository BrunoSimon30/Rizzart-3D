"use client";
import { useEffect, useRef, useState } from "react";
import { useGSAP } from "@gsap/react";
import gsap from "gsap";
import { FaPlay, FaPause } from "react-icons/fa";
import ReactCurvedText from "react-curved-text";

const AudioWithPreloader = () => {
  const [loading, setLoading] = useState(true);
  const [entered, setEntered] = useState(false);
  const [isPlaying, setIsPlaying] = useState(false);

  const audioRef = useRef(null);
  const countRef = useRef({ val: 1 });
  const [count, setCount] = useState(1);

  // Refs for timeline animation
  const curvedTextRef = useRef(null);
  const countRefEl = useRef(null);
  const loaderRef = useRef(null);

  useGSAP(() => {
    const tl = gsap.timeline();

    tl.fromTo(
      curvedTextRef.current,
      { opacity: 0, scale: 0.5 },
      { opacity: 1, scale: 1, duration: 1, ease: "power2.out" }
    )
      .fromTo(
        countRefEl.current,
        { scale: 0.1 },
        {
          opacity: 1,
          scale: 1,
          duration: 5,
        },
        "-=0.5"
      )

      .to(
        [curvedTextRef.current, countRefEl.current].filter(Boolean), // filter nulls
        {
          opacity: 0,
          scale: 0.5,
          duration: 0.5,
          ease: "power2.inOut",
          onComplete: () => {
            setLoading(false);
          },
        }
      );

    return () => tl.kill();
  }, []);

  useEffect(() => {
    const hasEntered = sessionStorage.getItem("hasEntered");
    if (hasEntered) {
      setLoading(false);
      setEntered(true);
    }
  }, []);

  const handleEnter = () => {
    audioRef.current
      .play()
      .then(() => {
        setIsPlaying(true);
        setEntered(true);
        sessionStorage.setItem("hasEntered", "true");
      })
      .catch((err) => {
        console.log("⛔ Autoplay blocked:", err);
      });
  };

  useEffect(() => {
    const handleAutoPlay = () => {
      audioRef.current
        .play()
        .then(() => {
          setIsPlaying(true);
          setEntered(true);
          sessionStorage.setItem("hasEntered", "true");
        })
        .catch((err) => {
          console.log("⛔ Autoplay blocked:", err);
        });
    };
    if (!isPlaying && !entered) {
      handleAutoPlay();
    }
  }, []);

  const togglePlay = () => {
    const audio = audioRef.current;
    if (isPlaying) {
      audio.pause();
    } else {
      audio.play().catch(console.error);
    }
    setIsPlaying(!isPlaying);
  };

  return (
    <>
      <audio ref={audioRef} loop src="/audio/background.mp3" preload="auto" />

      {loading && (
        <div
          ref={loaderRef}
          className="fixed inset-0 bg-black text-white flex items-center justify-center text-2xl z-[9999]"
        >
          <div ref={curvedTextRef} className="roundedText opacity-0">
            <div>
              <ReactCurvedText
                width={300}
                height={300}
                cx={150}
                cy={150}
                rx={130}
                ry={130}
                startOffset={0}
                reversed={true}
                text="- High-Quality Design - Loading | RizzNArt - High-Quality Design - Loading | RizzNArt - High-Quality Design - Loading - High-Quality Design - Loading"
                textProps={{ style: { fontSize: 12.7 } }}
                textPathProps={{ style: { fill: "#B1FF01" } }}
                tspanProps={{
                  style: { color: "#fff", textTransform: "uppercase" },
                }}
                ellipseProps={null}
                svgProps={null}
              />
            </div>
          </div>

          <div
            ref={countRefEl}
            className="absolute top-0 left-0 right-0 bottom-0 m-auto w-fit h-fit z-50 opacity-0"
          >
            <svg
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              width="50"
              height="73"
                className="animate-spin-reverse "
            >
              <path
                d="M0 0 C0.33 0 0.66 0 1 0 C1 8.25 1 16.5 1 25 C8.59 25 16.18 25 24 25 C23.09462757 29.52686216 22.06379984 32.11479827 19.90234375 36.0859375 C19.59201202 36.6606076 19.2816803 37.23527771 18.96194458 37.82736206 C17.95982589 39.67991847 16.94876076 41.52742094 15.9375 43.375 C15.25056215 44.64124452 14.56428373 45.907847 13.87866211 47.17480469 C12.53364265 49.65880473 11.18564146 52.1411442 9.83496094 54.62207031 C7.55484662 58.81947075 5.30322189 63.03147898 3.0625 67.25 C2.45535156 68.38953125 1.84820313 69.5290625 1.22265625 70.703125 C0.81917969 71.46109375 0.41570313 72.2190625 0 73 C-0.33 73 -0.66 73 -1 73 C-1 66.07 -1 59.14 -1 52 C-9.25 52 -17.5 52 -26 52 C-24.47182742 47.41548227 -22.80549852 43.39423449 -20.5859375 39.16015625 C-20.25260406 38.51614365 -19.91927063 37.87213104 -19.57583618 37.20860291 C-18.5129462 35.15776694 -17.44399633 33.11015835 -16.375 31.0625 C-15.68060978 29.72350419 -14.9865965 28.38431282 -14.29296875 27.04492188 C-9.59753482 17.99309987 -4.81598464 8.98816858 0 0 Z "
                fill="#B1FF01"
                transform="translate(26,0)"
              />
            </svg>
 
          </div>
        </div>
      )}

      {!loading && !entered && (
        <div className="  fixed inset-0 bg-black flex items-center justify-center flex-col z-[9998] text-white">
          <div className="dan-warp"></div>
          <div className="prelod">
            <svg
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              width="693"
              height="128"
            >
              <path
                d="M0 0 C71 0 71 0 85 7 C85.33 4.69 85.66 2.38 86 0 C122.51100159 -0.11436199 159.02197186 -0.20250641 195.53311558 -0.25532665 C199.84035534 -0.26158043 204.14759475 -0.26805202 208.45483398 -0.2746582 C209.74111325 -0.27662553 209.74111325 -0.27662553 211.05337795 -0.2786326 C224.95120463 -0.30040876 238.84892824 -0.33984239 252.74669371 -0.38576398 C266.99954817 -0.43246724 281.25234854 -0.46028239 295.50527638 -0.47044247 C304.30519193 -0.4773144 313.10481621 -0.49904393 321.90464213 -0.53958233 C327.93320267 -0.56594512 333.96161191 -0.57401575 339.99022595 -0.56750689 C343.47223076 -0.56429381 346.95372547 -0.56933197 350.43564034 -0.59602737 C354.20537617 -0.62073761 357.97384418 -0.61498421 361.74360657 -0.60127258 C362.8515702 -0.61583679 363.95953384 -0.630401 365.10107213 -0.64540654 C367.83139025 -0.61837983 370.33133265 -0.57626988 373 0 C375.20352459 2.53757954 375.20352459 2.53757954 376 5 C376.44512688 3.78006096 376.44512688 3.78006096 376.89924622 2.53547668 C379 0 379 0 380.89029503 -0.46120644 C383.47575921 -0.61832766 386.02212072 -0.61749393 388.61206055 -0.56762695 C389.59760925 -0.56835709 390.58315796 -0.56908722 391.59857178 -0.56983948 C394.86184394 -0.56635116 398.12369542 -0.52742992 401.38671875 -0.48828125 C403.64686808 -0.47895759 405.90702751 -0.47183937 408.16719055 -0.46684265 C414.12032903 -0.44773792 420.07285903 -0.39860635 426.02575684 -0.34332275 C432.09846769 -0.29220566 438.17127672 -0.26934469 444.24414062 -0.24414062 C456.16307099 -0.19049146 468.08138974 -0.10252636 480 0 C483.96 10.395 483.96 10.395 488 21 C488.33 14.07 488.66 7.14 489 0 C498.29349028 -0.06812129 507.58681128 -0.12301369 516.88049603 -0.15543652 C521.1972001 -0.1710078 525.51372263 -0.19208737 529.83032227 -0.22631836 C534.00600245 -0.25921981 538.18150941 -0.27691698 542.35730934 -0.28463173 C543.94030288 -0.29012058 545.52328831 -0.30083669 547.10620689 -0.31719017 C567.95251492 -0.52374254 567.95251492 -0.52374254 577 4 C577 2.68 577 1.36 577 0 C615.28 0 653.56 0 693 0 C693 22.44 693 44.88 693 68 C684.75 68 676.5 68 668 68 C668 86.48 668 104.96 668 124 C447.56 124 227.12 124 0 124 C0 83.08 0 42.16 0 0 Z "
                fill="#010200"
                transform="translate(0,2)"
              />
              <path
                d="M0 0 C55.77 0 111.54 0 169 0 C167.4600427 3.84989324 165.84065148 7.38831295 163.9453125 11.05859375 C163.64746857 11.63609375 163.34962463 12.21359375 163.04275513 12.80859375 C162.07288873 14.6863168 161.09919873 16.56202143 160.125 18.4375 C159.79318726 19.07817413 159.46137451 19.71884827 159.11950684 20.37893677 C153.30886718 31.59472918 147.33283316 42.71393299 141.20410156 53.75952148 C139.74431612 56.47575242 138.37904924 59.24190152 137 62 C172.64 62.33 208.28 62.66 245 63 C237 83 237 83 233 92 C154.79 92 76.58 92 -4 92 C5.44393939 73.11212121 5.44393939 73.11212121 9.75 64.875 C10.24661133 63.92359131 10.74322266 62.97218262 11.25488281 61.99194336 C16.70609167 51.5893622 22.34801585 41.29468542 28 31 C18.76 31 9.52 31 0 31 C0 20.77 0 10.54 0 0 Z "
                fill="#B1FD00"
                transform="translate(153,9)"
              />
              <path
                d="M0 0 C11.50875 -0.061875 11.50875 -0.061875 23.25 -0.125 C25.64668945 -0.14320801 28.04337891 -0.16141602 30.51269531 -0.18017578 C32.45116961 -0.18602694 34.3896464 -0.19112101 36.328125 -0.1953125 C37.79064697 -0.2106604 37.79064697 -0.2106604 39.28271484 -0.22631836 C52.66194542 -0.22964157 65.57543843 1.94579225 76.11328125 10.76953125 C81.59303694 16.79318329 83.55299391 23.17045796 83.27734375 31.23046875 C82.50023573 38.99060378 79.97113696 43.71038191 74.328125 49.078125 C72.74716387 50.92140419 72.74716387 50.92140419 73.22827148 53.24023438 C74.12834516 56.45897302 75.45275356 59.12488872 77.01953125 62.078125 C77.62990234 63.23957031 78.24027344 64.40101562 78.86914062 65.59765625 C79.51650788 66.81532712 80.16429703 68.0327738 80.8125 69.25 C82.07282794 71.62823144 83.32806859 74.00901702 84.58203125 76.390625 C85.14124268 77.44282227 85.7004541 78.49501953 86.27661133 79.57910156 C88.32763516 83.65035045 90.14853566 87.83420524 92 92 C78.8 92 65.6 92 52 92 C47.71 82.43 43.42 72.86 39 63 C38.67 72.9 38.34 82.8 38 93 C25.46 93 12.92 93 0 93 C0 62.31 0 31.62 0 0 Z "
                fill="#B1FE00"
                transform="translate(8,9)"
              />
              <path
                d="M0 0 C7.5075 -0.04125 15.015 -0.0825 22.75 -0.125 C25.09448242 -0.14320801 27.43896484 -0.16141602 29.85449219 -0.18017578 C47.73642225 -0.26183314 63.01413718 -0.00320763 76.87109375 12.5859375 C81.29381545 17.60106045 82.56035048 22.2248929 82.5 28.8125 C82.49572998 29.51737549 82.49145996 30.22225098 82.48706055 30.94848633 C82.23424644 38.71247022 79.46072347 43.6084803 74.1875 49.0625 C73.465625 49.701875 72.74375 50.34125 72 51 C73.4732167 55.90818285 75.53335563 60.22629145 77.9140625 64.734375 C78.4758168 65.81322968 78.4758168 65.81322968 79.04891968 66.91387939 C80.23678563 69.19478777 81.43022619 71.47270332 82.625 73.75 C84.20518642 76.76321718 85.77993348 79.77918756 87.3515625 82.796875 C87.71714264 83.48956482 88.08272278 84.18225464 88.4593811 84.89593506 C91 89.77456702 91 89.77456702 91 92 C78.13 92 65.26 92 52 92 C47.53283585 83.0656717 43.13342908 74.09354397 39 65 C38.67 74.24 38.34 83.48 38 93 C25.46 93 12.92 93 0 93 C0 62.31 0 31.62 0 0 Z "
                fill="#B0FC00"
                transform="translate(508,9)"
              />
              <path
                d="M0 0 C12.21 0 24.42 0 37 0 C38.36511719 3.57585938 39.73023438 7.15171875 41.13671875 10.8359375 C42.02774569 13.16959825 42.91877697 15.50325734 43.80981445 17.83691406 C45.49142183 22.24137244 47.17251107 26.64602731 48.8527441 31.05101013 C50.05521149 34.20337824 51.25798401 37.35562986 52.4609375 40.5078125 C52.69971682 41.13350632 52.93849613 41.75920013 53.18451118 42.40385437 C56.20392966 50.31430546 59.23656137 58.21944724 62.2890625 66.1171875 C63.18700143 68.44534371 64.08467934 70.77360043 64.98233032 73.10186768 C65.5337206 74.52863536 66.08691025 75.95470902 66.64193726 77.38006592 C67.39712067 79.31944812 68.1464523 81.26099384 68.89453125 83.203125 C69.30550049 84.26176758 69.71646973 85.32041016 70.13989258 86.41113281 C71 89 71 89 71 92 C57.47 92 43.94 92 30 92 C28 85 28 85 28 80 C20.74 80 13.48 80 6 80 C5.690625 81.794375 5.38125 83.58875 5.0625 85.4375 C4.125 90.875 4.125 90.875 3 92 C0.26105915 92.08858646 -2.4525327 92.11523479 -5.19140625 92.09765625 C-6.01124496 92.0962413 -6.83108368 92.09482635 -7.67576599 92.09336853 C-10.30471382 92.08775289 -12.93357773 92.07519779 -15.5625 92.0625 C-17.34049357 92.05748701 -19.11848846 92.05292376 -20.89648438 92.04882812 C-25.26435545 92.03777839 -29.63216348 92.02050331 -34 92 C-32.6838755 85.37515907 -30.78421239 79.31705243 -28.32421875 73.03515625 C-27.96229431 72.09560089 -27.60036987 71.15604553 -27.22747803 70.1880188 C-26.05337558 67.14386532 -24.87051366 64.1032001 -23.6875 61.0625 C-22.87509162 58.96094096 -22.06332897 56.8591322 -21.25219727 54.75708008 C-19.61928864 50.52682485 -17.9834939 46.2977032 -16.34570312 42.06933594 C-14.19959474 36.52335853 -12.07129216 30.97076475 -9.953125 25.4140625 C-9.64860916 24.61534225 -9.34409332 23.81662201 -9.03034973 22.99369812 C-7.88777787 19.99569975 -6.74585657 16.99745413 -5.6043396 13.99905396 C-4.84003723 11.99249641 -4.07446075 9.98642951 -3.30859375 7.98046875 C-2.88376709 6.86567139 -2.45894043 5.75087402 -2.02124023 4.60229492 C-1 2 -1 2 0 0 Z "
                fill="#B0FC00"
                transform="translate(430,9)"
              />
              <path
                d="M0 0 C29.7 0 59.4 0 90 0 C90 10.56 90 21.12 90 32 C81.42 32 72.84 32 64 32 C64 51.8 64 71.6 64 92 C51.46 92 38.92 92 26 92 C26 72.2 26 52.4 26 32 C17.42 32 8.84 32 0 32 C0 21.44 0 10.88 0 0 Z "
                fill="#AFFB00"
                transform="translate(595,9)"
              />
              <path
                d="M0 0 C27.48487607 -2.85791904 27.48487607 -2.85791904 34.61279297 1.65380859 C38.52291263 5.75786562 40.8433948 10.53041558 42.97802734 15.73486328 C44.53860982 19.19379405 46.69710465 21.9953467 49 25 C50.81097133 22.28354301 51.9469801 19.90246346 53.1640625 16.89453125 C53.5245166 16.00870361 53.8849707 15.12287598 54.25634766 14.21020508 C54.70800293 13.0889624 55.1596582 11.96771973 55.625 10.8125 C57.06875 7.244375 58.5125 3.67625 60 0 C70.23 0 80.46 0 91 0 C89.0750189 6.41660366 87.15882399 12.42194349 84.56640625 18.53515625 C84.24719711 19.29871933 83.92798798 20.06228241 83.59910583 20.84898376 C82.59158861 23.2554861 81.57707731 25.65896708 80.5625 28.0625 C79.88693032 29.67494615 79.21179702 31.28757521 78.53710938 32.90039062 C75.43517757 40.30213731 72.30588545 47.68646826 69 55 C42.35925147 57.20271499 42.35925147 57.20271499 35.6953125 53.83544922 C32.34997335 50.82876676 30.61017958 47.08400783 28.90820312 42.98095703 C27.35577563 39.59482889 25.08547976 36.73028379 22.875 33.75 C19 28.25259516 19 28.25259516 19 26 C18.34 26 17.68 26 17 26 C16.89042969 26.71188477 16.78085937 27.42376953 16.66796875 28.15722656 C15.93762744 31.26544815 14.80103082 33.66261283 13.3125 36.484375 C12.77882813 37.50144531 12.24515625 38.51851562 11.6953125 39.56640625 C11.13585937 40.61699219 10.57640625 41.66757812 10 42.75 C9.44054687 43.81605469 8.88109375 44.88210937 8.3046875 45.98046875 C4.15928235 53.84071765 4.15928235 53.84071765 3 55 C0.78144736 55.08783542 -1.43988496 55.10694609 -3.66015625 55.09765625 C-4.65685585 55.09553383 -4.65685585 55.09553383 -5.6736908 55.09336853 C-7.80333899 55.08775518 -9.93288339 55.07520054 -12.0625 55.0625 C-13.50325369 55.05748671 -14.94400903 55.05292351 -16.38476562 55.04882812 C-19.92321102 55.03778145 -23.46159539 55.02050792 -27 55 C-25.6821438 50.77712009 -24.07761647 46.90885582 -22.09375 42.95703125 C-21.23172974 41.23492432 -21.23172974 41.23492432 -20.35229492 39.47802734 C-19.73507507 38.2560779 -19.11763937 37.03423746 -18.5 35.8125 C-17.87005859 34.55947791 -17.24025816 33.30638494 -16.6105957 32.05322266 C-11.53286462 21.9686137 -6.30660858 11.9657878 -1 2 C-0.67 1.34 -0.34 0.68 0 0 Z "
                fill="#B1FC00"
                transform="translate(331,9)"
              />
              <path
                d="M0 0 C12.54 0 25.08 0 38 0 C38 30.69 38 61.38 38 93 C25.46 93 12.92 93 0 93 C0 62.31 0 31.62 0 0 Z "
                fill="#B1FF00"
                transform="translate(104,9)"
              />
              <path
                d="M0 0 C0.33 0 0.66 0 1 0 C1 9.57 1 19.14 1 29 C9.91 29 18.82 29 28 29 C26.61299608 33.16101176 25.36920942 36.48045674 23.3828125 40.28125 C22.60417847 41.77676392 22.60417847 41.77676392 21.80981445 43.30249023 C21.25382568 44.35766846 20.69783691 45.41284668 20.125 46.5 C19.55289795 47.5919165 18.9807959 48.68383301 18.39135742 49.80883789 C14.41288791 57.37738039 10.38657194 64.92000186 6.3125 72.4375 C5.80799316 73.37207031 5.30348633 74.30664062 4.78369141 75.26953125 C4.31495605 76.12804687 3.8462207 76.9865625 3.36328125 77.87109375 C2.95376221 78.62318115 2.54424316 79.37526855 2.12231445 80.15014648 C1 82 1 82 -1 84 C-1 76.41 -1 68.82 -1 61 C-11.23 61 -21.46 61 -32 61 C-27.25194386 50.59079999 -22.19200383 40.49804314 -16.65991211 30.48510742 C-12.45066799 22.86263861 -8.39012795 15.17029496 -4.3894043 7.43652344 C-3.95797119 6.60540039 -3.52653809 5.77427734 -3.08203125 4.91796875 C-2.70280518 4.18344482 -2.3235791 3.4489209 -1.93286133 2.69213867 C-1 1 -1 1 0 0 Z "
                fill="#080801"
                transform="translate(237,11)"
              />
              <path
                d="M0 0 C0.33 0 0.66 0 1 0 C1 3.96 1 7.92 1 12 C8.59 12 16.18 12 24 12 C22.61865094 16.14404717 21.33424704 19.57183724 19.3984375 23.3984375 C18.66367188 24.85830078 18.66367188 24.85830078 17.9140625 26.34765625 C17.40617187 27.34667969 16.89828125 28.34570312 16.375 29.375 C15.859375 30.39722656 15.34375 31.41945313 14.8125 32.47265625 C13.54528127 34.98362669 12.27435444 37.49264561 11 40 C10.67 40 10.34 40 10 40 C10 37.03 10 34.06 10 31 C1.75 31 -6.5 31 -15 31 C-10.10235517 20.61105643 -5.21009223 10.23629884 0 0 Z "
                fill="#F1A53A"
                transform="translate(231,34)"
              />
              <path
                d="M0 0 C12.54 0 25.08 0 38 0 C38 30.69 38 61.38 38 93 C25.46 93 12.92 93 0 93 C0 62.31 0 31.62 0 0 Z M2 2 C2 31.37 2 60.74 2 91 C13.22 91 24.44 91 36 91 C36 61.63 36 32.26 36 2 C24.78 2 13.56 2 2 2 Z "
                fill="#A8E500"
                transform="translate(104,9)"
              />
              <path
                d="M0 0 C11.818125 -0.061875 11.818125 -0.061875 23.875 -0.125 C26.36272949 -0.14320801 28.85045898 -0.16141602 31.41357422 -0.18017578 C33.37727645 -0.18601497 35.34098108 -0.19111188 37.3046875 -0.1953125 C38.33086182 -0.20554443 39.35703613 -0.21577637 40.41430664 -0.22631836 C41.38859619 -0.22656006 42.36288574 -0.22680176 43.36669922 -0.22705078 C44.63910965 -0.23371262 44.63910965 -0.23371262 45.93722534 -0.24050903 C48 0 48 0 50 2 C34.16 2 18.32 2 2 2 C2 31.37 2 60.74 2 91 C13.55 91 25.1 91 37 91 C37 81.76 37 72.52 37 63 C37.33 63 37.66 63 38 63 C38 72.9 38 82.8 38 93 C25.46 93 12.92 93 0 93 C0 62.31 0 31.62 0 0 Z "
                fill="#9FD500"
                transform="translate(8,9)"
              />
              <path
                d="M0 0 C7 0 7 0 10 1.5625 C12 4 12 4 12.125 7.5625 C11 11 11 11 8.8125 12.9375 C6 14 6 14 0 14 C0 9.38 0 4.76 0 0 Z "
                fill="#0A0E00"
                transform="translate(46,36)"
              />
              <path
                d="M0 0 C6.8359375 0.48828125 6.8359375 0.48828125 9 1 C11.33043558 4.49565336 11.58763244 5.8865729 11 10 C8.875 12.375 8.875 12.375 6 14 C4.02 14 2.04 14 0 14 C0 9.38 0 4.76 0 0 Z "
                fill="#040500"
                transform="translate(546,36)"
              />
              <path
                d="M0 0 C0.66 0 1.32 0 2 0 C2.50354867 2.43681587 3.00296756 4.87435439 3.5 7.3125 C3.64308594 8.00279297 3.78617187 8.69308594 3.93359375 9.40429688 C4.52625044 12.32524773 5 15.01108122 5 18 C2.36 18 -0.28 18 -3 18 C-2.01 12.06 -1.02 6.12 0 0 Z "
                fill="#0B1000"
                transform="translate(446,48)"
              />
              <path
                d="M0 0 C10.23 0 20.46 0 31 0 C30.67 0.99 30.34 1.98 30 3 C20.43 2.67 10.86 2.34 1 2 C0.67 2.66 0.34 3.32 0 4 C0 2.68 0 1.36 0 0 Z "
                fill="#ACE900"
                transform="translate(391,9)"
              />
            </svg>
          </div>
          <p className="text-xl mb-6 uppercase italic font-semibold">
            Turn Up The Volume, Baby. The Future Won't Wait.
          </p>
          <button onClick={handleEnter} className="group flex gap-2 text-xl">
            <span className="group-hover:text-[#B1FF01]">[</span>
            <span>Discover the Future</span>
            <span className="group-hover:text-[#B1FF01]">]</span>
          </button>
        </div>
      )}

      {entered && (
        <div>
          {/* <div className="p-6 text-white">🎉 Your site is now visible!</div> */}

          <div
            onClick={togglePlay}
            className={`fixed top-4 right-4 z-50 bg-[#B1FF01] backdrop-blur-lg w-10 h-10 flex items-center justify-center ${
              entered && !isPlaying ? "blinking" : ""
            }`}
          >
            <button
              className={`text-[#18181A] text-sm hover:scale-110 transition-transform ${
                entered && !isPlaying ? "blinking-child" : ""
              }`}
            >
              {isPlaying ? <FaPause /> : <FaPlay />}
            </button>
          </div>
        </div>
      )}
    </>
  );
};

export default AudioWithPreloader;
